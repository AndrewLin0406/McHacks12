<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submission Confirmed</title>
    <link rel="stylesheet" href="style.css">
    <script>  
    function successMessage() {
        alert("Patient Successfully Registered!");
      }</script>
</head>
<body onload="successMessage()">
    
    <header>
        <image src=https://www.showsbee.com/newmaker/www/u/2023/20238/com_img/IFEM-logo.png style="height: 150px;"></image>    <div class="container">
      
        <div class="container">
            <h1>Thank You for Your Patience <span></span>!</h1>
            <p>We have received your information.</p>
        </div>
    </header>
    
    
    <main>
        <div class="container">
            <section class="wait-info">
                <h2>Current Wait Time</h2>
                <div class="time-box">
                    
                </div>
                
                <script>
                    function getQueryParam(name) {
                        const urlParams = new URLSearchParams(window.location.search);
                        return urlParams.get(name);  // Returns the value of the parameter
                    }

                    const TriageCategory = {
                        RESUSCITATION: 1,
                        EMERGENT: 2,
                        URGENT: 3,
                        LESS_URGENT: 4,
                        NON_URGENT: 5
                    };

                    const condition = {
                        "Heart Attack" : TriageCategory.RESUSCITATION,
                        "Sprained Ankle" : TriageCategory.LESS_URGENT,
                        "Nose Bleed" : TriageCategory.NON_URGENT
                    }

                    function computeWaitTime(triageCategory) {
                        const waitRanges = {
                            [TriageCategory.RESUSCITATION]: [0, 5],
                            [TriageCategory.EMERGENT]: [15, 30],
                            [TriageCategory.URGENT]: [30, 120],
                            [TriageCategory.LESS_URGENT]: [60, 240],
                            [TriageCategory.NON_URGENT]: [120, 360]
                        };
                        const [min, max] = waitRanges[triageCategory];
                        return Math.floor(Math.random() * (max - min + 1)) + min;
                    }
                    var waittime = computeWaitTime(condition[getQueryParam('medicalCondition')])
                    var txt = "Estimated wait time: " + waittime + " minutes" 
                    document.getElementsByClassName("time-box")[0].innerHTML = txt
                </script>
            </section>
            <section class="features">
                <h2>Features</h2>
                <div class="feature-box">
                    <div class="feature-item">
                        <h3>Real-Time Updates</h3>
                        <p>Stay informed about your wait time and position in the queue.</p>
                    </div>
                    <div class="feature-item">
                        <h3>Interactive FAQ</h3>
                        <p>Get answers to common questions while you wait.</p>
                    </div>
                    <div class="feature-item">
                        <h3>Informational Video</h3>
                        <div id="video-results"></div>

                        <script src="YoutubeFinder.js"></script>
                    </div>
                    <script> 
                    function getQueryParam(name) {
                        const urlParams = new URLSearchParams(window.location.search);
                        return urlParams.get(name);  // Returns the value of the parameter
                    }
                    window.onload = function() {
                        searchYouTubeVideos(getQueryParam('medicalCondition'));
                    };
                    </script>
                </div>
            </section>
        </div>
    </main>

</body>
</html>
